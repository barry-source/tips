# Hash

## 1、哈希表：

根据哈希函数H(key)和处理函数冲突的方法，将一组关键字映射到一组有限的连续的空间上，并以关键字在地址中的‘像’作为记录在哈希表中的存储位置，这种表便是哈希表。

## 哈希函数

1、直接定址法
    H(key) = key或者H(key) = a * key + b
    特点：地址集合的大小 = 关键字集合的大小
    
2、数字分析法
    假设关键字集合中的每个关键字都是由 s 位数字组成 (u1, u2, …, us)，分析关键字集中的全体，并从中提取分布均匀的若干位或它们的组合作为地址。

数字分析法是取数据元素关键字中某些取值较均匀的数字位作为哈希地址的方法。即当关键字的位数很多时，可以通过对关键字的各位进行分析，丢掉分布不均匀的位，作为哈希值。它只适合于所有关键字值已知的情况。
    
3、平方取中法

这是一种常用的哈希函数构造方法。这个方法是先取关键字的平方，然后根据可使用空间的大小，选取平方数是中间几位为哈希地址。
哈希函数 H(key)=“key2的中间几位”因为这种方法的原理是通过取平方扩大差别，平方值的中间几位和这个数的每一位都相关，则对不同的关键字得到的哈希函数值不易产生冲突，由此产生的哈希地址也较为均匀。

4、折叠法

将关键字分割成若干部分，然后取它们的叠加和为哈希地址。两种叠加处理的方法：移位叠加:将分 割后的几部分低位对齐相加；边界叠加:从一端沿分割界来回折叠，然后对齐相加。

5、除留余数法（最常用）
取关键字被某个不大于哈希表表长 m 的质数 p 除后所得余数作哈希地址，即 H(key) = key MOD p，  p <=  m。 这是质数是消除极端情况

6、随机数法

设定哈希函数为:H(key) = Random(key)其中，Random 为伪随机函数
此法适于：对长度不等的关键字构造哈希函数。


### 常用hash 函数：

**MD4：**具有3轮16步，输出位长度为128位
MD5：具有4轮16步，输出位长128位
SHA-1：具有4个20阶的步长和160位的输出位长度
SHA-256：具有64轮单步，输出位长度为256位
SHA-384：实际上与SHA-512相同，除了输出被截断为383位
SHA-512：具有80个单步的轮数和512位的输出位长度

随着计算能力的提高，现在已经可以通过暴力破解或者碰撞攻击的方式对MD4，MD5算法进行破解，因此不再安全。

对MD4/5进行加盐处理


## 哈希冲突函数

哈希冲突解决方法只能保证哈希表可以在发生冲突时正常工作，但无法减少哈希冲突的发生

1、开放定址法

2、再哈希法

3、链地址法

4、建立公共溢出区


